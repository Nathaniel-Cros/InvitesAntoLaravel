import{R as a,j as e,c as j}from"./app-Ga74G5Zs.js";const u="/build/assets/iconWhats-CXZJdgVe.webp",p=({invites:n})=>{const[t,d]=a.useState(""),[c,x]=a.useState(n);a.useEffect(()=>{console.log("..:: Search ::..",t),x(t===""?n:n.filter(l=>l.family.toLowerCase().includes(t.toLowerCase())))},[t]),a.useEffect(()=>{console.log("..:: Invites ::..",c)},[c]);const i=()=>{d("")};return e.jsxs("section",{className:"flex flex-col justify-center items-center w-[100%] gap-y-3 max-w-screen overflow-hidden",children:[e.jsxs("div",{className:"flex flex-row justify-center items-center w-[90%] gap-x-3",children:[e.jsx("input",{className:"rounded w-[30%] border border-[#dabb85ff] border-black p-3",value:t,onChange:l=>{d(l.target.value)}}),e.jsx("button",{className:"bg-[#dabb85ff] text-white rounded p-3",onClick:i,disabled:t.length===0,children:"Borrar Filtos"})]}),e.jsxs("article",{className:"w-[90%] text-center flex flex-col overflow-x-auto overflow-y-hidden",children:[e.jsx("div",{className:"w-[900px] md:w-[100%] flex flex-col overflow-x-auto",children:e.jsxs("div",{className:"overflow-x-auto border grid grid-cols-7 gap-x-3",children:[e.jsx("span",{className:"flex-none font-bold",children:"Familia"}),e.jsx("span",{className:"flex-none font-bold",children:"Adultos"}),e.jsx("span",{className:"flex-none font-bold",children:"Niños"}),e.jsx("span",{className:"flex-none font-bold",children:"Adultos Confirmados"}),e.jsx("span",{className:"flex-none font-bold",children:"Niños Confirmados"}),e.jsx("span",{className:"flex-none font-bold",children:"Link a invitación"}),e.jsx("span",{className:"flex-none font-bold",children:"Compartir"})]})}),e.jsx("div",{className:"w-[900px] md:w-[100%] flex flex-col overflow-x-auto",children:c==null?void 0:c.map(l=>e.jsxs("div",{className:"border grid grid-cols-7 gap-x-3",children:[e.jsx("span",{children:l.family}),e.jsx("span",{children:l.adults}),e.jsx("span",{children:l.children}),e.jsx("span",{children:l.confirm_adults}),e.jsx("span",{children:l.confirm_children}),e.jsx("span",{children:e.jsx("a",{href:window.location.origin.concat(`/${l.id}`),target:"_blank",children:"Ver Invitación"})}),e.jsx("span",{children:e.jsx("a",{target:"_blank",href:`https://api.whatsapp.com/send?text=${decodeURI(`¡La cuenta regresiva comenzó! Aquí te dejo la invitación para los XV años de Antonella. ¡Te esperamos! 
 ${window.location.origin.concat(`/${l.id}`)}`)}`,children:e.jsx("img",{src:u,width:"20",height:"20",alt:"whatsapp"})})})]},`invite-${l.id}`))})]})]})},g=async()=>await(await fetch("/api/info-invites")).json(),w=()=>{const[n,t]=a.useState([]),[d,c]=a.useState(0),[x,i]=a.useState(0),[l,h]=a.useState(0),[f,m]=a.useState(0);return a.useEffect(()=>{n.length===0&&g().then(s=>{console.log("..:: All Invites Response ::..",s==null?void 0:s.data),s!=null&&s.success&&(t(s==null?void 0:s.data),c(s==null?void 0:s.data.reduce((o,r)=>o+r.adults,0)),i(s==null?void 0:s.data.reduce((o,r)=>o+r.children,0)),h(s==null?void 0:s.data.reduce((o,r)=>o+r.confirm_adults,0)),m(s==null?void 0:s.data.reduce((o,r)=>o+r.confirm_children,0)))})},[]),e.jsx(e.Fragment,{children:e.jsxs("section",{id:"all-invites",className:"flex flex-col items-center justify-center w-screen min-h-screen p-10",children:[e.jsx("h2",{className:"font-Carattere text-6xl text-center",children:"Invitaciones de Antonella"}),e.jsx("hr",{}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 items-center justify-center w-[100%] gap-3",children:[e.jsxs("div",{className:"flex flex-col justify-center items-center font-Romanesco text-3xl md:text-5xl",children:[e.jsx("span",{children:d}),e.jsx("span",{children:"Adultos"})]}),e.jsxs("div",{className:"flex flex-col justify-center items-center font-Romanesco text-3xl md:text-5xl",children:[e.jsx("span",{children:x}),e.jsx("span",{children:"Niños"})]}),e.jsxs("div",{className:"flex flex-col justify-center items-center font-Romanesco text-3xl md:text-5xl",children:[e.jsx("span",{children:l}),e.jsx("span",{children:"Adultos Confirmados"})]}),e.jsxs("div",{className:"flex flex-col justify-center items-center font-Romanesco text-3xl md:text-5xl",children:[e.jsx("span",{children:f}),e.jsx("span",{children:"Niños Confirmados"})]}),e.jsxs("div",{className:"flex flex-col justify-center items-center font-Romanesco text-3xl md:text-5xl",children:[e.jsx("span",{children:l+f}),e.jsx("span",{children:"Confirmados Totales"})]})]}),e.jsx("hr",{}),n.length>0&&e.jsx(p,{invites:n})]})})};j.createRoot(document.getElementById("root")).render(e.jsx(a.StrictMode,{children:e.jsx(w,{})}));
