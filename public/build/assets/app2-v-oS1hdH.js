import{R as l,j as e,c as i}from"./app-COHxxK6M.js";const f=({invites:a})=>{const[c,r]=l.useState(""),[n,t]=l.useState(a);l.useEffect(()=>{console.log("..:: Search ::..",c),t(c===""?a:a.filter(s=>s.family.toLowerCase().includes(c.toLowerCase())))},[c]),l.useEffect(()=>{console.log("..:: Invites ::..",n)},[n]);const o=()=>{r("")};return e.jsxs("section",{className:"flex flex-col justify-center items-center w-[100%] gap-y-3 max-w-screen overflow-hidden",children:[e.jsxs("div",{className:"flex flex-row justify-center items-center w-[90%] gap-x-3",children:[e.jsx("input",{className:"rounded w-[30%] border border-[#dabb85ff] border-black p-3",value:c,onChange:s=>{r(s.target.value)}}),e.jsx("button",{className:"bg-[#dabb85ff] text-white rounded p-3",onClick:o,disabled:c.length===0,children:"Borrar Filtos"})]}),e.jsxs("article",{className:"w-[90%] text-center flex flex-col overflow-x-auto overflow-y-hidden",children:[e.jsx("div",{className:"w-[900px] md:w-[100%] flex flex-col overflow-x-auto",children:e.jsxs("div",{className:"overflow-x-auto border grid grid-cols-7 gap-x-3",children:[e.jsx("span",{className:"flex-none",children:"Familia"}),e.jsx("span",{className:"flex-none",children:"Adultos"}),e.jsx("span",{className:"flex-none",children:"Niños"}),e.jsx("span",{className:"flex-none",children:"Adultos Confirmados"}),e.jsx("span",{className:"flex-none",children:"Niños Confirmados"}),e.jsx("span",{className:"flex-none",children:"Link a invitación"}),e.jsx("span",{className:"flex-none",children:"Actualizar"})]})}),e.jsx("div",{className:"w-[900px] md:w-[100%] flex flex-col overflow-x-auto",children:n==null?void 0:n.map(s=>e.jsxs("div",{className:"border grid grid-cols-7 gap-x-3",children:[e.jsx("span",{children:s.family}),e.jsx("span",{children:s.adults}),e.jsx("span",{children:s.children}),e.jsx("span",{children:s.confirm_adults}),e.jsx("span",{children:s.confirm_children}),e.jsx("span",{children:e.jsx("a",{href:window.location.origin.concat(`/${s.id}`),target:"_blank",children:"Ver Invitación"})})]},`invite-${s.id}`))})]})]})},h=async()=>await(await fetch("/api/info-invites")).json(),j=()=>{const[a,c]=l.useState([]),[r,n]=l.useState(0),[t,o]=l.useState(0);return l.useEffect(()=>{a.length===0&&h().then(s=>{console.log("..:: All Invites Response ::..",s==null?void 0:s.data),s!=null&&s.success&&(c(s==null?void 0:s.data),n(s==null?void 0:s.data.reduce((d,x)=>d+x.adults,0)),o(s==null?void 0:s.data.reduce((d,x)=>d+x.children,0)))})},[]),e.jsx(e.Fragment,{children:e.jsxs("section",{id:"all-invites",className:"flex flex-col items-center justify-center w-screen min-h-screen p-10",children:[e.jsx("h2",{className:"font-Carattere text-6xl text-center",children:"Invitaciones de Antonella"}),e.jsx("hr",{}),e.jsxs("div",{className:"flex flex-row items-center justify-center w-[100%]",children:[e.jsxs("div",{className:"flex flex-col justify-center items-center",children:[e.jsx("span",{children:r}),e.jsx("span",{children:"Adultos"})]}),e.jsxs("div",{className:"flex flex-col justify-center items-center",children:[e.jsx("span",{children:t}),e.jsx("span",{children:"Niños"})]})]}),e.jsx("hr",{}),a.length>0&&e.jsx(f,{invites:a})]})})};i.createRoot(document.getElementById("root")).render(e.jsx(l.StrictMode,{children:e.jsx(j,{})}));
