import{R as l,j as e,c as x}from"./app-abw03AyN.js";const i=({invites:t})=>{const[c,a]=l.useState(""),[r,n]=l.useState(t);l.useEffect(()=>{console.log("..:: Search ::..",c),n(c===""?t:t.filter(s=>s.family.toLowerCase().includes(c.toLowerCase())))},[c]),l.useEffect(()=>{console.log("..:: Invites ::..",r)},[r]);const d=()=>{a("")};return e.jsxs("section",{className:"flex flex-col justify-center items-center w-[100%] gap-y-3",children:[e.jsxs("div",{className:"flex flex-row justify-center items-center w-[90%] gap-x-3",children:[e.jsx("input",{className:"rounded w-[30%] border border-[#dabb85ff] border-black p-3",value:c,onChange:s=>{a(s.target.value)}}),e.jsx("button",{className:"bg-[#dabb85ff] text-white rounded p-3",onClick:d,disabled:c.length===0,children:"Borrar Filtos"})]}),e.jsxs("table",{className:"w-[900px] md:w-[90%] text-center",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border",children:[e.jsx("th",{children:"Familia"}),e.jsx("th",{children:"Adultos"}),e.jsx("th",{children:"Niños"}),e.jsx("th",{children:"Adultos Confirmados"}),e.jsx("th",{children:"Niños Confirmados"}),e.jsx("th",{children:"Link a invitación"}),e.jsx("th",{children:"Actualizar"})]})}),e.jsx("tbody",{children:r==null?void 0:r.map(s=>e.jsxs("tr",{className:"border",children:[e.jsx("td",{children:s.family}),e.jsx("td",{children:s.adults}),e.jsx("td",{children:s.children}),e.jsx("td",{children:s.confirm_adults}),e.jsx("td",{children:e.jsx("a",{href:window.location.origin.concat(`/${s.id}`),target:"_blank",children:"Ver Invitación"})}),e.jsx("td",{children:s.confirm_children})]},`invite-${s.id}`))})]})]})},j=async()=>await(await fetch("/api/info-invites")).json(),f=()=>{const[t,c]=l.useState([]),[a,r]=l.useState(0),[n,d]=l.useState(0);return l.useEffect(()=>{t.length===0&&j().then(s=>{console.log("..:: All Invites Response ::..",s==null?void 0:s.data),s!=null&&s.success&&(c(s==null?void 0:s.data),r(s==null?void 0:s.data.reduce((o,h)=>o+h.adults,0)),d(s==null?void 0:s.data.reduce((o,h)=>o+h.children,0)))})},[]),e.jsx(e.Fragment,{children:e.jsxs("section",{id:"all-invites",className:"flex flex-col items-center justify-center w-screen min-h-screen",children:[e.jsx("h2",{className:"font-Carattere text-6xl text-center",children:"Invitaciones de Antonella"}),e.jsx("hr",{}),e.jsxs("div",{className:"flex flex-row items-center justify-center w-[100%]",children:[e.jsxs("div",{className:"flex flex-col justify-center items-center",children:[e.jsx("span",{children:a}),e.jsx("span",{children:"Adultos"})]}),e.jsxs("div",{className:"flex flex-col justify-center items-center",children:[e.jsx("span",{children:n}),e.jsx("span",{children:"Niños"})]})]}),e.jsx("hr",{}),t.length>0&&e.jsx(i,{invites:t})]})})};x.createRoot(document.getElementById("root")).render(e.jsx(l.StrictMode,{children:e.jsx(f,{})}));
